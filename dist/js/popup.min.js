function popup(){function t(){$(p).addClass(s)}function o(){$(p).removeClass(s)}function e(){$(p).removeAttr("style")}function n(){$("."+c).fadeOut()}function i(){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t);var o=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),o}var p="body",s="body-hidden",c="popup-box",a="popup",r="popup__close",d="is-visible",l="popup-box__container",u="popup-box__bg",f="popup-open";$("."+a).each(function(){var o=$(this);o.hasClass("."+d)?(o.wrap('<div class="'+c+" "+d+'"><div class="'+l+'">'),t(),o.removeClass("."+d)):o.wrap('<div class="'+c+'"><div class="'+l+'">'),o.after('<div class="'+u+'">'),o.parents("."+c).attr("id",o.attr("id")),o.removeAttr("id"),console.log("init popop")}),$("."+u).on("touchstart click",function(t){t.preventDefault(),n(),o(),e()}),$(document).keydown(function(t){27==t.keyCode&&(n(),o(),e(),t.preventDefault())}),$("."+f).on("click",function(o){o.preventDefault(),$("."+c).length&&(n(),$($(this).attr("href")).fadeIn(),t(),$(p).css("margin-right",i()))}),$("."+r).on("click",function(t){t.preventDefault(),n(),o(),e()})}popup();